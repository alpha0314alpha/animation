<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>アニメーション</title>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="animation.css">
    </head>
    <body>
        <button class="return-home" onclick="showScreen('home')">ホームに戻る</button>
        <div id="home" class="screen active">
            <h1 class="title">アニメーション集</h1>
            <button onclick="showScreen('css')">CSS</button>
            <button onclick="showScreen('grid')">グリッド</button>
            <button onclick="showScreen('graph')">グラフ</button>
            <button onclick="showScreen('segtree')">セグメント木</button>
        </div>
        <div id="css" class="screen">
            <h1 class="title">CSSアニメーション</h1>
            <div class="box"></div>
        </div>
        <div id="grid" class="screen">
            <h1 class="title">グリッドアニメーション</h1>
            <button onclick="maze.dfs()">DFS</button>
            <button onclick="maze.bfs()">BFS</button>
            <button onclick="maze.aster()">A*</button>
            <button onclick="maze.remake()">再作成</button><br>
            <canvas id="gridcanvas" width="600" height="600"></canvas>
        </div>
        <div id="graph" class="screen">
            <h1 class="title">グラフアニメーション</h1>
            <button onclick="graph.kruskal()">最小全域木</button>
            <button onclick="(() => {
                const start = Math.floor(graph.size*Math.random());
                const goal = Math.floor(graph.size*Math.random());
                graph.dijkstra(start, goal);
            })()">最短距離</button>
            <button onclick="graph.remake(graph.size*2)">再作成</button><br>
            <canvas id="graphcanvas" width="600" height="600"></canvas>
        </div>
        <div id="segtree" class="screen">
            <h1 class="title">セグメント木</h1>
            <button onclick="(() => {
                currrentSeg = segtree_sum;
                currrentSeg.show();
            })()">和</button>
            <button onclick="(() => {
                currrentSeg = segtree_max;
                currrentSeg.show();
            })()">最大値</button>
            <button onclick="currrentSeg.reset()">リセット</button>
            <br>
            <input id="segtree-idx" type="number" min="1" max="8" value="0">
            <input id="segtree-val" type="number" min="-1e8" max="1e8" value="0">
            <input type="submit" value="更新" onclick="currrentSeg.inputSegtree()">
            <br>
            <canvas id="segtreecanvas" width="600" height="200"></canvas>
        </div>
        <script>
            const clearCanvas = (canvas, ctx) => ctx.clearRect(0, 0, canvas.width, canvas.height);
            const sleep = ms => new Promise(r => setTimeout(r, ms));
            const matrix = (height, width, val) => Array.from( {length:height}, () => Array(width).fill(val))
            function showScreen(id){
                document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
                document.getElementById(id).classList.add("active");
            }
        </script>
        <script src="grid.js"></script>
        <script src="graph.js"></script>
        <script src="segtree.js"></script>
        <script src="test.js"></script>
    </body>
</html>
